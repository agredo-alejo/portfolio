var lt=Object.defineProperty;var ot=(n,t,s)=>t in n?lt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var g=(n,t,s)=>(ot(n,typeof t!="symbol"?t+"":t,s),s);const dt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))a(h);new MutationObserver(h=>{for(const u of h)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(h){const u={};return h.integrity&&(u.integrity=h.integrity),h.referrerpolicy&&(u.referrerPolicy=h.referrerpolicy),h.crossorigin==="use-credentials"?u.credentials="include":h.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(h){if(h.ep)return;h.ep=!0;const u=s(h);fetch(h.href,u)}};dt();let V=0,yt=300;const A={callback:()=>{},animate:n=>{A.callback=n}},k=()=>{requestAnimationFrame(k);let n=Date.now(),t=n-V,s=1e3/yt;t>s&&(V=n-t%s,A.callback())};var c={},w={};Object.defineProperty(w,"__esModule",{value:!0});w.Vector=void 0;class f{constructor(t=0,s=0,a=0){this.x=t,this.y=s,this.z=a}add(t,s=0,a=0){return typeof t=="number"?(this.x+=t,this.y+=s,this.z+=a,this):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}sub(t,s=0,a=0){return typeof t=="number"?(this.x-=t,this.y-=s,this.z-=a,this):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}mult(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):this}div(t){return!isFinite(t)||t==0?this:(this.x/=t,this.y/=t,this.z/=t,this)}set(t,s=0,a=0){return typeof t!="number"?(this.x=t.x,this.y=t.y,this.z=t.z,this):(this.x=t,this.y=s,this.z=a,this)}copy(){return new f(this.x,this.y,this.z)}magSq(){return this.x*this.x+this.y*this.y+this.z*this.z}get mag(){return Math.hypot(this.x,this.y,this.z)}set mag(t){this.div(this.mag).mult(t)}normalize(){let t=Math.hypot(this.x,this.y,this.z);return t===0?this.set(0,0,0):this.div(t)}max(t){return this.mag>t.mag?this:t}min(t){return this.mag<t.mag?this:t}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}dist(t){return Math.hypot(this.x-t.x,this.y-t.y,this.z-t.z)}distSq(t){return Math.hypot(this.x-t.x,this.y-t.y,this.z-t.z)**2}cross(t){return new f(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}maxMag(t){let s=Math.hypot(this.x,this.y,this.z);return s>t?this.div(s).mult(t):this}minMag(t){let s=Math.hypot(this.x,this.y,this.z);return s<t?this.div(s).mult(t):this}constrainMag(t,s){let a=Math.hypot(this.x,this.y,this.z);return a<t?this.div(a).mult(t):a>s?this.div(a).mult(s):this}toArray(){return[this.x,this.y,this.z]}changeOfBasis(t=new f(1),s=new f(0,1),a=new f(0,0,1)){let h=this.x,u=this.y,d=this.z;return this.x=h*t.x+u*s.x+d*a.x,this.y=h*t.y+u*s.y+d*a.y,this.z=h*t.z+u*s.z+d*a.z,this}lerp(t,s){const a=Math.min(Math.max(s,0),1);return this.x+=(t.x-this.x)*a,this.y+=(t.y-this.y)*a,this.z+=(t.z-this.z)*a,this}angleBetween(t){let s=this.mag*t.mag;if(s==0)return 0;let a=this.dot(t)/s;return Math.acos(Math.max(Math.min(a,1),-1))}get direction(){return Math.atan2(this.y,this.x)}set direction(t){this.x=Math.cos(t),this.y=Math.sin(t)}set direction3D(t){this.x=Math.sin(t[1])*Math.cos(t[0]),this.y=Math.sin(t[1])*Math.sin(t[0]),this.z=Math.cos(t[1])}get direction3D(){return[Math.atan2(this.y,this.x),Math.atan2(Math.hypot(this.x,this.y),this.z)]}rotate(t){let s=Math.cos(t),a=Math.sin(t),h=this.x;return this.x=h*s+this.y*-a||0,this.y=h*a+this.y*s||0,this}rotateX(t){let s=Math.cos(t),a=Math.sin(t),h=this.y;return this.y=h*s+this.z*-a||0,this.z=h*a+this.z*s||0,this}rotateY(t){let s=Math.cos(t),a=Math.sin(t),h=this.x;return this.x=h*s+this.z*a||0,this.z=h*-a+this.z*s||0,this}}w.Vector=f;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createVector=n.one=n.zero=n.back=n.forward=n.down=n.up=n.left=n.right=n.scalarProyection=n.random3D=n.random2D=n.fromAngles=n.fromAngle=n.rotateY=n.rotateX=n.rotate=n.angleBetween=n.lerp=n.changeOfBasis=n.toArray=n.dot=n.cross=n.distSq=n.dist=n.equals=n.min=n.max=n.setMag=n.normalize=n.div=n.mult=n.sub=n.add=n.Vector=void 0;const t=w;Object.defineProperty(n,"Vector",{enumerable:!0,get:function(){return t.Vector}});const s=(i,e,r=0,l=0)=>e instanceof t.Vector?new t.Vector(i.x+e.x,i.y+e.y,i.z+e.z):new t.Vector(i.x+e,i.y+r,i.z+l);n.add=s;const a=(i,e,r=0,l=0)=>e instanceof t.Vector?new t.Vector(i.x-e.x,i.y-e.y,i.z-e.z):new t.Vector(i.x-e,i.y-r,i.z-l);n.sub=a;const h=(i,e)=>isFinite(e)?new t.Vector(i.x*e,i.y*e,i.z*e):new t.Vector(i.x,i.y,i.z);n.mult=h;const u=(i,e)=>{if(e!==0&&isFinite(e)){let r=1/e;return new t.Vector(i.x*r,i.y*r,i.z*r)}return new t.Vector(i.x,i.y,i.z)};n.div=u;const d=i=>(0,n.div)(i,Math.hypot(i.x,i.y,i.z));n.normalize=d;const E=(i,e)=>(0,n.div)(i,Math.hypot(i.x,i.y,i.z)).mult(e);n.setMag=E;const B=(i,e)=>i.mag>e.mag?i.copy():e.copy();n.max=B;const I=(i,e)=>i.mag<e.mag?i.copy():e.copy();n.min=I;const X=(i,e)=>i.x==e.x&&i.y==e.y&&i.z==e.z;n.equals=X;const Y=(i,e)=>Math.hypot(i.x-e.x,i.y-e.y,i.z-e.z);n.dist=Y;const $=(i,e)=>Math.hypot(i.x-e.x,i.y-e.y,i.z-e.z)**2;n.distSq=$;const F=(i,e)=>new t.Vector(i.y*e.z-i.z*e.y,i.z*e.x-i.x*e.z,i.x*e.y-i.y*e.x);n.cross=F;const T=(i,e)=>i.x*e.x+i.y*e.y+i.z*e.z;n.dot=T;const R=i=>[i.x,i.y,i.z];n.toArray=R;const N=(i,e=new t.Vector(1),r=new t.Vector(0,1),l=new t.Vector(0,0,1))=>new t.Vector(i.x*e.x+i.y*r.x+i.z*l.x,i.x*e.y+i.y*r.y+i.z*l.y,i.x*e.z+i.y*r.z+i.z*l.z);n.changeOfBasis=N;const K=(i,e,r)=>new t.Vector(i.x+(e.x-i.x)*r,i.y+(e.y-i.y)*r,i.z+(e.z-i.z)*r);n.lerp=K;const G=(i,e)=>{let r=i.mag*e.mag;if(r===0)return 0;let l=i.dot(e)/r;return Math.acos(Math.max(Math.min(l,1),-1))};n.angleBetween=G;const J=(i,e)=>{let r=Math.cos(e),l=Math.sin(e);return new t.Vector(i.x*r+i.y*-l,i.x*l+i.y*r,i.z)};n.rotate=J;const Q=(i,e)=>{let r=Math.cos(e),l=Math.sin(e);return new t.Vector(i.x,i.y*r+i.z*-l,i.y*l+i.z*r)};n.rotateX=Q;const U=(i,e)=>{let r=Math.cos(e),l=Math.sin(e);return new t.Vector(i.x*r+i.z*l,i.y,i.x*-l+i.z*r)};n.rotateY=U;const Z=i=>new t.Vector(Math.cos(i),Math.sin(i));n.fromAngle=Z;const _=(i,e)=>new t.Vector(Math.sin(e)*Math.cos(i),Math.sin(e)*Math.sin(i),Math.cos(e));n.fromAngles=_;const j=()=>(0,n.fromAngle)(Math.random()*Math.PI*2);n.random2D=j;const x=()=>(0,n.fromAngles)(Math.random()*Math.PI*2,Math.random()*Math.PI*2);n.random3D=x;const p=(i,e,r)=>{let l=(0,n.sub)(e,i),ut=(0,n.sub)(r,i);return l.normalize(),l.mult(ut.dot(l)),(0,n.add)(i,l)};n.scalarProyection=p;const v=()=>new t.Vector(1,0,0);n.right=v;const tt=()=>new t.Vector(-1,0,0);n.left=tt;const nt=()=>new t.Vector(0,1,0);n.up=nt;const it=()=>new t.Vector(0,-1,0);n.down=it;const et=()=>new t.Vector(0,0,1);n.forward=et;const st=()=>new t.Vector(0,0,-1);n.back=st;const at=()=>new t.Vector;n.zero=at;const ht=()=>new t.Vector(1,1,1);n.one=ht;const rt=(i=0,e=0,r=0)=>new t.Vector(i,e,r);n.createVector=rt})(c);const ct=Math.PI*2,ft=(n,t=1)=>n instanceof Array?`rgba( ${n[0]}, ${n[0]}, ${n[0]}, ${n[1]||1})`:`rgba( ${n}, ${n}, ${n}, ${t})`;function gt(n,t){if(!t){n.fill();return}n.save(),n.fillStyle=t,n.fill(),n.restore()}function C(n,t){if(!t){n.stroke();return}n.save(),n.strokeStyle=t,n.stroke(),n.restore()}const mt=(n,t)=>{n.translate(t.x,t.y)},zt=(n,t)=>{if(!t){n.fillRect(0,0,n.canvas.width,n.canvas.height);return}n.save(),n.fillStyle=t,n.fillRect(0,0,n.canvas.width,n.canvas.height),n.restore()},D=(n,t,s,a,h,u=!0)=>{n.beginPath(),n.arc(t.x,t.y,s||n.lineWidth,a||0,h||ct,u)},P=(n,t,s)=>{n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(s.x,s.y),n.closePath()},o={x:void 0,y:void 0,dragging:!1},Mt=n=>{o.x=n.clientX,o.y=n.clientY},wt=n=>{o.x=n.targetTouches[0].pageX,o.y=n.targetTouches[0].pageY},bt=n=>{o.x=n.clientX,o.y=n.clientY,o.dragging=!0},At=n=>{o.x=n.targetTouches[0].pageX,o.y=n.targetTouches[0].pageY,o.dragging=!0},L=()=>{o.dragging=!1},Ot=()=>{addEventListener("mousemove",Mt),addEventListener("touchmove",wt),addEventListener("mousedown",bt),addEventListener("touchstart",At),addEventListener("mouseup",L),addEventListener("touchend",L)},Vt=(n,t)=>Math.random()*(t-n)+n;let H=()=>{};const Pt=n=>{H=n},Lt=n=>{n.width=innerWidth,n.height=innerHeight,H()},St=n=>{addEventListener("resize",()=>Lt(n))};class qt{constructor(){g(this,"radius");g(this,"position");g(this,"velocity");this.radius=Vt(b/20,b/10),this.position=c.createVector(Math.random()*innerHeight,Math.random()*innerHeight),this.velocity=c.random2D(),this.velocity.mag=.5}egdes(){this.position.x>innerWidth?this.position.x=0:this.position.x<0&&(this.position.x=innerWidth),this.position.y>innerHeight?this.position.y=0:this.position.y<0&&(this.position.y=innerHeight)}update(){this.position.add(this.velocity),this.egdes()}draw(){D(y,this.position,this.radius),C(y,"#fff")}}class kt{constructor(){g(this,"position");g(this,"angle");this.position=c.createVector(innerWidth/2,innerHeight/2),this.angle=Math.random()*Math.PI*2}update(){this.angle+=.005}draw(){y.save(),mt(y,this.position);let t=c.fromAngle(this.angle);t.mag=50,P(y,c.zero(),t),y.restore()}march(t){let s=this.position.copy();for(;;){let a=1/0;for(let u=0;u<t.length;u++){let d=c.dist(s,t[u].position)-t[u].radius;d<a&&(a=d)}if(a<1)break;let h=c.fromAngle(this.angle);if(h.mag=a,D(y,s,a),gt(y,ft(200,.5)),s.add(h),this.offScreen(s))break}P(y,this.position,s),C(y,"#fff")}offScreen(t){return t.x>innerWidth||t.x<0||t.y>innerHeight}}const z=document.querySelector("canvas"),y=z.getContext("2d");let M,S,q,m,W,b;function O(){z.width=innerWidth,z.height=innerHeight,W=c.createVector(innerWidth/2,innerHeight/2),b=Math.min(innerWidth,innerHeight),q=innerWidth+innerHeight,S=Math.floor(q/200),M=[];for(let n=0;n<S;n++)M.push(new qt);m=new kt}addEventListener("dblclick",O);function Ct(){zt(y,"#000");for(let n of M)n.draw();if(o.dragging){let n=c.createVector(o.x,o.y);n.sub(W),m.angle=n.direction}m.march(M),m.update()}O();Ot();St(z);Pt(O);A.animate(Ct);k();
