var et=Object.defineProperty;var st=(n,t,s)=>t in n?et(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var b=(n,t,s)=>(st(n,typeof t!="symbol"?t+"":t,s),s);const ht=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))h(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const y of l.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&h(y)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function h(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}};ht();class w{constructor(t,s,h,a){b(this,"x");b(this,"y");b(this,"z");b(this,"w");this.x=t,this.y=s,this.z=h,this.w=a}mult(t){this.x*=t,this.y*=t,this.z*=t,this.w*=t}}let B=0,at=300;const q={callback:()=>{},animate:n=>{q.callback=n}},S=()=>{requestAnimationFrame(S);let n=Date.now(),t=n-B,s=1e3/at;t>s&&(B=n-t%s,q.callback())};var rt={},P={};Object.defineProperty(P,"__esModule",{value:!0});P.Vector=void 0;class M{constructor(t=0,s=0,h=0){this.x=t,this.y=s,this.z=h}add(t,s=0,h=0){return typeof t=="number"?(this.x+=t,this.y+=s,this.z+=h,this):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}sub(t,s=0,h=0){return typeof t=="number"?(this.x-=t,this.y-=s,this.z-=h,this):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}mult(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):this}div(t){return!isFinite(t)||t==0?this:(this.x/=t,this.y/=t,this.z/=t,this)}set(t,s=0,h=0){return typeof t!="number"?(this.x=t.x,this.y=t.y,this.z=t.z,this):(this.x=t,this.y=s,this.z=h,this)}copy(){return new M(this.x,this.y,this.z)}magSq(){return this.x*this.x+this.y*this.y+this.z*this.z}get mag(){return Math.hypot(this.x,this.y,this.z)}set mag(t){this.div(this.mag).mult(t)}normalize(){let t=Math.hypot(this.x,this.y,this.z);return t===0?this.set(0,0,0):this.div(t)}max(t){return this.mag>t.mag?this:t}min(t){return this.mag<t.mag?this:t}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}dist(t){return Math.hypot(this.x-t.x,this.y-t.y,this.z-t.z)}distSq(t){return Math.hypot(this.x-t.x,this.y-t.y,this.z-t.z)**2}cross(t){return new M(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}maxMag(t){let s=Math.hypot(this.x,this.y,this.z);return s>t?this.div(s).mult(t):this}minMag(t){let s=Math.hypot(this.x,this.y,this.z);return s<t?this.div(s).mult(t):this}constrainMag(t,s){let h=Math.hypot(this.x,this.y,this.z);return h<t?this.div(h).mult(t):h>s?this.div(h).mult(s):this}toArray(){return[this.x,this.y,this.z]}changeOfBasis(t=new M(1),s=new M(0,1),h=new M(0,0,1)){let a=this.x,l=this.y,y=this.z;return this.x=a*t.x+l*s.x+y*h.x,this.y=a*t.y+l*s.y+y*h.y,this.z=a*t.z+l*s.z+y*h.z,this}lerp(t,s){const h=Math.min(Math.max(s,0),1);return this.x+=(t.x-this.x)*h,this.y+=(t.y-this.y)*h,this.z+=(t.z-this.z)*h,this}angleBetween(t){let s=this.mag*t.mag;if(s==0)return 0;let h=this.dot(t)/s;return Math.acos(Math.max(Math.min(h,1),-1))}get direction(){return Math.atan2(this.y,this.x)}set direction(t){this.x=Math.cos(t),this.y=Math.sin(t)}set direction3D(t){this.x=Math.sin(t[1])*Math.cos(t[0]),this.y=Math.sin(t[1])*Math.sin(t[0]),this.z=Math.cos(t[1])}get direction3D(){return[Math.atan2(this.y,this.x),Math.atan2(Math.hypot(this.x,this.y),this.z)]}rotate(t){let s=Math.cos(t),h=Math.sin(t),a=this.x;return this.x=a*s+this.y*-h||0,this.y=a*h+this.y*s||0,this}rotateX(t){let s=Math.cos(t),h=Math.sin(t),a=this.y;return this.y=a*s+this.z*-h||0,this.z=a*h+this.z*s||0,this}rotateY(t){let s=Math.cos(t),h=Math.sin(t),a=this.x;return this.x=a*s+this.z*h||0,this.z=a*-h+this.z*s||0,this}}P.Vector=M;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createVector=n.one=n.zero=n.back=n.forward=n.down=n.up=n.left=n.right=n.scalarProyection=n.random3D=n.random2D=n.fromAngles=n.fromAngle=n.rotateY=n.rotateX=n.rotate=n.angleBetween=n.lerp=n.changeOfBasis=n.toArray=n.dot=n.cross=n.distSq=n.dist=n.equals=n.min=n.max=n.setMag=n.normalize=n.div=n.mult=n.sub=n.add=n.Vector=void 0;const t=P;Object.defineProperty(n,"Vector",{enumerable:!0,get:function(){return t.Vector}});const s=(i,e,r=0,u=0)=>e instanceof t.Vector?new t.Vector(i.x+e.x,i.y+e.y,i.z+e.z):new t.Vector(i.x+e,i.y+r,i.z+u);n.add=s;const h=(i,e,r=0,u=0)=>e instanceof t.Vector?new t.Vector(i.x-e.x,i.y-e.y,i.z-e.z):new t.Vector(i.x-e,i.y-r,i.z-u);n.sub=h;const a=(i,e)=>isFinite(e)?new t.Vector(i.x*e,i.y*e,i.z*e):new t.Vector(i.x,i.y,i.z);n.mult=a;const l=(i,e)=>{if(e!==0&&isFinite(e)){let r=1/e;return new t.Vector(i.x*r,i.y*r,i.z*r)}return new t.Vector(i.x,i.y,i.z)};n.div=l;const y=i=>(0,n.div)(i,Math.hypot(i.x,i.y,i.z));n.normalize=y;const c=(i,e)=>(0,n.div)(i,Math.hypot(i.x,i.y,i.z)).mult(e);n.setMag=c;const z=(i,e)=>i.mag>e.mag?i.copy():e.copy();n.max=z;const A=(i,e)=>i.mag<e.mag?i.copy():e.copy();n.min=A;const f=(i,e)=>i.x==e.x&&i.y==e.y&&i.z==e.z;n.equals=f;const $=(i,e)=>Math.hypot(i.x-e.x,i.y-e.y,i.z-e.z);n.dist=$;const F=(i,e)=>Math.hypot(i.x-e.x,i.y-e.y,i.z-e.z)**2;n.distSq=F;const L=(i,e)=>new t.Vector(i.y*e.z-i.z*e.y,i.z*e.x-i.x*e.z,i.x*e.y-i.y*e.x);n.cross=L;const W=(i,e)=>i.x*e.x+i.y*e.y+i.z*e.z;n.dot=W;const I=i=>[i.x,i.y,i.z];n.toArray=I;const T=(i,e=new t.Vector(1),r=new t.Vector(0,1),u=new t.Vector(0,0,1))=>new t.Vector(i.x*e.x+i.y*r.x+i.z*u.x,i.x*e.y+i.y*r.y+i.z*u.y,i.x*e.z+i.y*r.z+i.z*u.z);n.changeOfBasis=T;const X=(i,e,r)=>new t.Vector(i.x+(e.x-i.x)*r,i.y+(e.y-i.y)*r,i.z+(e.z-i.z)*r);n.lerp=X;const j=(i,e)=>{let r=i.mag*e.mag;if(r===0)return 0;let u=i.dot(e)/r;return Math.acos(Math.max(Math.min(u,1),-1))};n.angleBetween=j;const Y=(i,e)=>{let r=Math.cos(e),u=Math.sin(e);return new t.Vector(i.x*r+i.y*-u,i.x*u+i.y*r,i.z)};n.rotate=Y;const R=(i,e)=>{let r=Math.cos(e),u=Math.sin(e);return new t.Vector(i.x,i.y*r+i.z*-u,i.y*u+i.z*r)};n.rotateX=R;const E=(i,e)=>{let r=Math.cos(e),u=Math.sin(e);return new t.Vector(i.x*r+i.z*u,i.y,i.x*-u+i.z*r)};n.rotateY=E;const H=i=>new t.Vector(Math.cos(i),Math.sin(i));n.fromAngle=H;const N=(i,e)=>new t.Vector(Math.sin(e)*Math.cos(i),Math.sin(e)*Math.sin(i),Math.cos(e));n.fromAngles=N;const K=()=>(0,n.fromAngle)(Math.random()*Math.PI*2);n.random2D=K;const Z=()=>(0,n.fromAngles)(Math.random()*Math.PI*2,Math.random()*Math.PI*2);n.random3D=Z;const G=(i,e,r)=>{let u=(0,n.sub)(e,i),it=(0,n.sub)(r,i);return u.normalize(),u.mult(it.dot(u)),(0,n.add)(i,u)};n.scalarProyection=G;const J=()=>new t.Vector(1,0,0);n.right=J;const Q=()=>new t.Vector(-1,0,0);n.left=Q;const U=()=>new t.Vector(0,1,0);n.up=U;const _=()=>new t.Vector(0,-1,0);n.down=_;const x=()=>new t.Vector(0,0,1);n.forward=x;const p=()=>new t.Vector(0,0,-1);n.back=p;const v=()=>new t.Vector;n.zero=v;const tt=()=>new t.Vector(1,1,1);n.one=tt;const nt=(i=0,e=0,r=0)=>new t.Vector(i,e,r);n.createVector=nt})(rt);const lt=Math.PI*2,C=(n,t=1)=>n instanceof Array?`rgba( ${n[0]}, ${n[0]}, ${n[0]}, ${n[1]||1})`:`rgba( ${n}, ${n}, ${n}, ${t})`;function ut(n,t){if(!t){n.fill();return}n.save(),n.fillStyle=t,n.fill(),n.restore()}function yt(n,t){if(!t){n.stroke();return}n.save(),n.strokeStyle=t,n.stroke(),n.restore()}const ot=(n,t)=>{if(!t){n.fillRect(0,0,n.canvas.width,n.canvas.height);return}n.save(),n.fillStyle=t,n.fillRect(0,0,n.canvas.width,n.canvas.height),n.restore()},ft=(n,t,s,h,a,l,y=!0)=>{n.beginPath(),n.arc(t,s,h||n.lineWidth,a||0,l||lt,y)},dt=(n,t,s,h,a)=>{n.beginPath(),n.moveTo(t,s),n.lineTo(h,a),n.closePath()};let D=()=>{};const zt=n=>{D=n},ct=n=>{n.width=innerWidth,n.height=innerHeight,D()},mt=n=>{addEventListener("resize",()=>ct(n))};function Mt(n){let t=[];for(let s=0;s<3;s++)t[s]=[];return t[0][0]=n.x,t[1][0]=n.y,t[2][0]=n.z,t}function gt(n){let t=Mt(n);return t[3]=[],t[3][0]=n.w,t}function wt(n){let t=new w(n[0][0],n[1][0],n[2][0],0);return n.length>3&&(t.w=n[3][0]),t}function At(n,t){let s=gt(t),h=O(n,s);return wt(h)}function O(n,t){if(t instanceof w)return At(n,t);let s=n[0].length,h=n.length,a=t[0].length,l=t.length;if(s!==l)throw new Error("Columns of A must match rows of B");let y=[];for(let c=0;c<h;c++){y[c]=[];for(let z=0;z<a;z++){let A=0;for(let f=0;f<s;f++)A+=n[c][f]*t[f][z];y[c][z]=A}}return y}const V=document.querySelector("canvas"),d=V.getContext("2d");let o,g;function k(){V.width=innerWidth,V.height=innerHeight,o=0,g=[];for(let n=-1;n<2;n+=2)for(let t=-1;t<2;t+=2)g.push(new w(-1,-1,t,n)),g.push(new w(1,-1,t,n)),g.push(new w(1,1,t,n)),g.push(new w(-1,1,t,n))}function bt(){ot(d,C(25)),d.save(),d.translate(innerWidth/2,innerHeight/2);let n=[];for(let t=0;t<g.length;t++){const s=g[t],h=[[Math.cos(o),-Math.sin(o),0,0],[Math.sin(o),Math.cos(o),0,0],[0,0,1,0],[0,0,0,1]],a=[[1,0,0,0],[0,1,0,0],[0,0,Math.cos(o),-Math.sin(o)],[0,0,Math.sin(o),Math.cos(o)]],l=[[1,0,0,0],[0,Math.cos(-o),-Math.sin(-o),0],[0,Math.sin(-o),Math.cos(-o),0],[0,0,0,1]];let y=O(h,s);y=O(a,y),y=O(l,y);let z=1/(2-y.w),f=O([[z,0,0,0],[0,z,0,0],[0,0,z,0]],y);f.mult(innerWidth/8),n[t]=f,ft(d,f.x,f.y,2),ut(d,"#fff")}for(let t=0;t<4;t++)m(0,t,(t+1)%4,n),m(0,t+4,(t+1)%4+4,n),m(0,t,t+4,n);for(let t=0;t<4;t++)m(8,t,(t+1)%4,n),m(8,t+4,(t+1)%4+4,n),m(8,t,t+4,n);for(let t=0;t<8;t++)m(0,t,t+8,n);o+=.005,d.restore()}k();mt(V);zt(k);q.animate(bt);S();function m(n,t,s,h){const a=h[t+n],l=h[s+n];d.save(),d.lineWidth=5,dt(d,a.x,a.y,l.x,l.y),yt(d,C(255,.75)),d.restore()}
