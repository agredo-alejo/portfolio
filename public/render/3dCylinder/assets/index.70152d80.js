var at=Object.defineProperty;var ht=(n,t,s)=>t in n?at(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var o=(n,t,s)=>(ht(n,typeof t!="symbol"?t+"":t,s),s);const rt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))a(h);new MutationObserver(h=>{for(const l of h)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(h){const l={};return h.integrity&&(l.integrity=h.integrity),h.referrerpolicy&&(l.referrerPolicy=h.referrerpolicy),h.crossorigin==="use-credentials"?l.credentials="include":h.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(h){if(h.ep)return;h.ep=!0;const l=s(h);fetch(h.href,l)}};rt();let V=0,ut=300;const b={callback:()=>{},animate:n=>{b.callback=n}},x=()=>{requestAnimationFrame(x);let n=Date.now(),t=n-V,s=1e3/ut;t>s&&(V=n-t%s,b.callback())};var lt={},M={};Object.defineProperty(M,"__esModule",{value:!0});M.Vector=void 0;class g{constructor(t=0,s=0,a=0){this.x=t,this.y=s,this.z=a}add(t,s=0,a=0){return typeof t=="number"?(this.x+=t,this.y+=s,this.z+=a,this):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}sub(t,s=0,a=0){return typeof t=="number"?(this.x-=t,this.y-=s,this.z-=a,this):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}mult(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):this}div(t){return!isFinite(t)||t==0?this:(this.x/=t,this.y/=t,this.z/=t,this)}set(t,s=0,a=0){return typeof t!="number"?(this.x=t.x,this.y=t.y,this.z=t.z,this):(this.x=t,this.y=s,this.z=a,this)}copy(){return new g(this.x,this.y,this.z)}magSq(){return this.x*this.x+this.y*this.y+this.z*this.z}get mag(){return Math.hypot(this.x,this.y,this.z)}set mag(t){this.div(this.mag).mult(t)}normalize(){let t=Math.hypot(this.x,this.y,this.z);return t===0?this.set(0,0,0):this.div(t)}max(t){return this.mag>t.mag?this:t}min(t){return this.mag<t.mag?this:t}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}dist(t){return Math.hypot(this.x-t.x,this.y-t.y,this.z-t.z)}distSq(t){return Math.hypot(this.x-t.x,this.y-t.y,this.z-t.z)**2}cross(t){return new g(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}maxMag(t){let s=Math.hypot(this.x,this.y,this.z);return s>t?this.div(s).mult(t):this}minMag(t){let s=Math.hypot(this.x,this.y,this.z);return s<t?this.div(s).mult(t):this}constrainMag(t,s){let a=Math.hypot(this.x,this.y,this.z);return a<t?this.div(a).mult(t):a>s?this.div(a).mult(s):this}toArray(){return[this.x,this.y,this.z]}changeOfBasis(t=new g(1),s=new g(0,1),a=new g(0,0,1)){let h=this.x,l=this.y,c=this.z;return this.x=h*t.x+l*s.x+c*a.x,this.y=h*t.y+l*s.y+c*a.y,this.z=h*t.z+l*s.z+c*a.z,this}lerp(t,s){const a=Math.min(Math.max(s,0),1);return this.x+=(t.x-this.x)*a,this.y+=(t.y-this.y)*a,this.z+=(t.z-this.z)*a,this}angleBetween(t){let s=this.mag*t.mag;if(s==0)return 0;let a=this.dot(t)/s;return Math.acos(Math.max(Math.min(a,1),-1))}get direction(){return Math.atan2(this.y,this.x)}set direction(t){this.x=Math.cos(t),this.y=Math.sin(t)}set direction3D(t){this.x=Math.sin(t[1])*Math.cos(t[0]),this.y=Math.sin(t[1])*Math.sin(t[0]),this.z=Math.cos(t[1])}get direction3D(){return[Math.atan2(this.y,this.x),Math.atan2(Math.hypot(this.x,this.y),this.z)]}rotate(t){let s=Math.cos(t),a=Math.sin(t),h=this.x;return this.x=h*s+this.y*-a||0,this.y=h*a+this.y*s||0,this}rotateX(t){let s=Math.cos(t),a=Math.sin(t),h=this.y;return this.y=h*s+this.z*-a||0,this.z=h*a+this.z*s||0,this}rotateY(t){let s=Math.cos(t),a=Math.sin(t),h=this.x;return this.x=h*s+this.z*a||0,this.z=h*-a+this.z*s||0,this}}M.Vector=g;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createVector=n.one=n.zero=n.back=n.forward=n.down=n.up=n.left=n.right=n.scalarProyection=n.random3D=n.random2D=n.fromAngles=n.fromAngle=n.rotateY=n.rotateX=n.rotate=n.angleBetween=n.lerp=n.changeOfBasis=n.toArray=n.dot=n.cross=n.distSq=n.dist=n.equals=n.min=n.max=n.setMag=n.normalize=n.div=n.mult=n.sub=n.add=n.Vector=void 0;const t=M;Object.defineProperty(n,"Vector",{enumerable:!0,get:function(){return t.Vector}});const s=(i,e,r=0,u=0)=>e instanceof t.Vector?new t.Vector(i.x+e.x,i.y+e.y,i.z+e.z):new t.Vector(i.x+e,i.y+r,i.z+u);n.add=s;const a=(i,e,r=0,u=0)=>e instanceof t.Vector?new t.Vector(i.x-e.x,i.y-e.y,i.z-e.z):new t.Vector(i.x-e,i.y-r,i.z-u);n.sub=a;const h=(i,e)=>isFinite(e)?new t.Vector(i.x*e,i.y*e,i.z*e):new t.Vector(i.x,i.y,i.z);n.mult=h;const l=(i,e)=>{if(e!==0&&isFinite(e)){let r=1/e;return new t.Vector(i.x*r,i.y*r,i.z*r)}return new t.Vector(i.x,i.y,i.z)};n.div=l;const c=i=>(0,n.div)(i,Math.hypot(i.x,i.y,i.z));n.normalize=c;const B=(i,e)=>(0,n.div)(i,Math.hypot(i.x,i.y,i.z)).mult(e);n.setMag=B;const E=(i,e)=>i.mag>e.mag?i.copy():e.copy();n.max=E;const S=(i,e)=>i.mag<e.mag?i.copy():e.copy();n.min=S;const C=(i,e)=>i.x==e.x&&i.y==e.y&&i.z==e.z;n.equals=C;const F=(i,e)=>Math.hypot(i.x-e.x,i.y-e.y,i.z-e.z);n.dist=F;const Y=(i,e)=>Math.hypot(i.x-e.x,i.y-e.y,i.z-e.z)**2;n.distSq=Y;const X=(i,e)=>new t.Vector(i.y*e.z-i.z*e.y,i.z*e.x-i.x*e.z,i.x*e.y-i.y*e.x);n.cross=X;const I=(i,e)=>i.x*e.x+i.y*e.y+i.z*e.z;n.dot=I;const T=i=>[i.x,i.y,i.z];n.toArray=T;const k=(i,e=new t.Vector(1),r=new t.Vector(0,1),u=new t.Vector(0,0,1))=>new t.Vector(i.x*e.x+i.y*r.x+i.z*u.x,i.x*e.y+i.y*r.y+i.z*u.y,i.x*e.z+i.y*r.z+i.z*u.z);n.changeOfBasis=k;const W=(i,e,r)=>new t.Vector(i.x+(e.x-i.x)*r,i.y+(e.y-i.y)*r,i.z+(e.z-i.z)*r);n.lerp=W;const H=(i,e)=>{let r=i.mag*e.mag;if(r===0)return 0;let u=i.dot(e)/r;return Math.acos(Math.max(Math.min(u,1),-1))};n.angleBetween=H;const N=(i,e)=>{let r=Math.cos(e),u=Math.sin(e);return new t.Vector(i.x*r+i.y*-u,i.x*u+i.y*r,i.z)};n.rotate=N;const R=(i,e)=>{let r=Math.cos(e),u=Math.sin(e);return new t.Vector(i.x,i.y*r+i.z*-u,i.y*u+i.z*r)};n.rotateX=R;const K=(i,e)=>{let r=Math.cos(e),u=Math.sin(e);return new t.Vector(i.x*r+i.z*u,i.y,i.x*-u+i.z*r)};n.rotateY=K;const Z=i=>new t.Vector(Math.cos(i),Math.sin(i));n.fromAngle=Z;const G=(i,e)=>new t.Vector(Math.sin(e)*Math.cos(i),Math.sin(e)*Math.sin(i),Math.cos(e));n.fromAngles=G;const J=()=>(0,n.fromAngle)(Math.random()*Math.PI*2);n.random2D=J;const Q=()=>(0,n.fromAngles)(Math.random()*Math.PI*2,Math.random()*Math.PI*2);n.random3D=Q;const U=(i,e,r)=>{let u=(0,n.sub)(e,i),st=(0,n.sub)(r,i);return u.normalize(),u.mult(st.dot(u)),(0,n.add)(i,u)};n.scalarProyection=U;const _=()=>new t.Vector(1,0,0);n.right=_;const $=()=>new t.Vector(-1,0,0);n.left=$;const j=()=>new t.Vector(0,1,0);n.up=j;const p=()=>new t.Vector(0,-1,0);n.down=p;const v=()=>new t.Vector(0,0,1);n.forward=v;const tt=()=>new t.Vector(0,0,-1);n.back=tt;const nt=()=>new t.Vector;n.zero=nt;const it=()=>new t.Vector(1,1,1);n.one=it;const et=(i=0,e=0,r=0)=>new t.Vector(i,e,r);n.createVector=et})(lt);const yt=n=>{n.clearRect(0,0,n.canvas.width,n.canvas.height)},dt=(n,t,s)=>{s===void 0?n.scale(t,t):n.scale(t,s)},y={x:void 0,y:void 0,dragging:!1};let O=()=>{};const ct=n=>{O=n},gt=n=>{y.x=n.clientX,y.y=n.clientY,y.dragging&&O()},ot=n=>{y.x=n.targetTouches[0].pageX,y.y=n.targetTouches[0].pageY,y.dragging&&O()},zt=n=>{y.x=n.clientX,y.y=n.clientY,y.dragging=!0},mt=n=>{y.x=n.targetTouches[0].pageX,y.y=n.targetTouches[0].pageY,y.dragging=!0},L=()=>{y.dragging=!1},ft=()=>{addEventListener("mousemove",gt),addEventListener("touchmove",ot),addEventListener("mousedown",zt),addEventListener("touchstart",mt),addEventListener("mouseup",L),addEventListener("touchend",L)},Mt=n=>{n.width=innerWidth,n.height=innerHeight},wt=n=>{addEventListener("resize",()=>Mt(n))};class At{constructor(t,s,a,h){o(this,"x");o(this,"y");o(this,"z");o(this,"angle");this.x=t,this.y=s,this.z=a,this.angle=h}}const m=document.querySelector("canvas"),d=m.getContext("2d");let P=100,w=[],A=200,q=2e3,f=500,z=0,D=.01;wt(m);function bt(){m.width=innerWidth,m.height=innerHeight,d.restore(),w=[];for(let n=0;n<A;n++){let t=.2*n;w.push(new At(Math.cos(t+z)*f,2e3-4e3/A*n+Math.random()*500,q+Math.sin(t+z)*f,.2*n))}}ft();ct(()=>{!y.x||(D=(y.x-innerWidth/2)*5e-5)});function Ot(){yt(d),d.save(),d.translate(innerWidth/2,innerHeight/2),z+=D,d.beginPath();for(let n=0;n<A;n++){let t=w[n],s=P/(P+t.z);d.save(),dt(d,s),d.translate(t.x,t.y),d.lineTo(t.x,t.y),d.restore(),t.x=Math.cos(t.angle+z)*f,t.z=q+Math.sin(t.angle+z)*f}d.stroke(),d.restore()}bt();b.animate(Ot);x();
