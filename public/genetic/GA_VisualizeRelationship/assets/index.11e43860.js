var Mt=Object.defineProperty;var gt=(i,t,e)=>t in i?Mt(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var M=(i,t,e)=>(gt(i,typeof t!="symbol"?t+"":t,e),e);const zt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))h(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&h(o)}).observe(document,{childList:!0,subtree:!0});function e(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function h(a){if(a.ep)return;a.ep=!0;const r=e(a);fetch(a.href,r)}};zt();let X=0,Y=300;const I={callback:()=>{},animate:i=>{I.callback=i}},N=()=>{requestAnimationFrame(N);let i=Date.now(),t=i-X,e=1e3/Y;t>e&&(X=i-t%e,I.callback())},wt=i=>{Y=Math.max(Math.min(300,i),0)};var u={},q={};Object.defineProperty(q,"__esModule",{value:!0});q.Vector=void 0;class g{constructor(t=0,e=0,h=0){this.x=t,this.y=e,this.z=h}add(t,e=0,h=0){return typeof t=="number"?(this.x+=t,this.y+=e,this.z+=h,this):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}sub(t,e=0,h=0){return typeof t=="number"?(this.x-=t,this.y-=e,this.z-=h,this):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}mult(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):this}div(t){return!isFinite(t)||t==0?this:(this.x/=t,this.y/=t,this.z/=t,this)}set(t,e=0,h=0){return typeof t!="number"?(this.x=t.x,this.y=t.y,this.z=t.z,this):(this.x=t,this.y=e,this.z=h,this)}copy(){return new g(this.x,this.y,this.z)}magSq(){return this.x*this.x+this.y*this.y+this.z*this.z}get mag(){return Math.hypot(this.x,this.y,this.z)}set mag(t){this.div(this.mag).mult(t)}normalize(){let t=Math.hypot(this.x,this.y,this.z);return t===0?this.set(0,0,0):this.div(t)}max(t){return this.mag>t.mag?this:t}min(t){return this.mag<t.mag?this:t}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}dist(t){return Math.hypot(this.x-t.x,this.y-t.y,this.z-t.z)}distSq(t){return Math.hypot(this.x-t.x,this.y-t.y,this.z-t.z)**2}cross(t){return new g(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}maxMag(t){let e=Math.hypot(this.x,this.y,this.z);return e>t?this.div(e).mult(t):this}minMag(t){let e=Math.hypot(this.x,this.y,this.z);return e<t?this.div(e).mult(t):this}constrainMag(t,e){let h=Math.hypot(this.x,this.y,this.z);return h<t?this.div(h).mult(t):h>e?this.div(h).mult(e):this}toArray(){return[this.x,this.y,this.z]}changeOfBasis(t=new g(1),e=new g(0,1),h=new g(0,0,1)){let a=this.x,r=this.y,o=this.z;return this.x=a*t.x+r*e.x+o*h.x,this.y=a*t.y+r*e.y+o*h.y,this.z=a*t.z+r*e.z+o*h.z,this}lerp(t,e){const h=Math.min(Math.max(e,0),1);return this.x+=(t.x-this.x)*h,this.y+=(t.y-this.y)*h,this.z+=(t.z-this.z)*h,this}angleBetween(t){let e=this.mag*t.mag;if(e==0)return 0;let h=this.dot(t)/e;return Math.acos(Math.max(Math.min(h,1),-1))}get direction(){return Math.atan2(this.y,this.x)}set direction(t){this.x=Math.cos(t),this.y=Math.sin(t)}set direction3D(t){this.x=Math.sin(t[1])*Math.cos(t[0]),this.y=Math.sin(t[1])*Math.sin(t[0]),this.z=Math.cos(t[1])}get direction3D(){return[Math.atan2(this.y,this.x),Math.atan2(Math.hypot(this.x,this.y),this.z)]}rotate(t){let e=Math.cos(t),h=Math.sin(t),a=this.x;return this.x=a*e+this.y*-h||0,this.y=a*h+this.y*e||0,this}rotateX(t){let e=Math.cos(t),h=Math.sin(t),a=this.y;return this.y=a*e+this.z*-h||0,this.z=a*h+this.z*e||0,this}rotateY(t){let e=Math.cos(t),h=Math.sin(t),a=this.x;return this.x=a*e+this.z*h||0,this.z=a*-h+this.z*e||0,this}}q.Vector=g;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.createVector=i.one=i.zero=i.back=i.forward=i.down=i.up=i.left=i.right=i.scalarProyection=i.random3D=i.random2D=i.fromAngles=i.fromAngle=i.rotateY=i.rotateX=i.rotate=i.angleBetween=i.lerp=i.changeOfBasis=i.toArray=i.dot=i.cross=i.distSq=i.dist=i.equals=i.min=i.max=i.setMag=i.normalize=i.div=i.mult=i.sub=i.add=i.Vector=void 0;const t=q;Object.defineProperty(i,"Vector",{enumerable:!0,get:function(){return t.Vector}});const e=(n,s,l=0,d=0)=>s instanceof t.Vector?new t.Vector(n.x+s.x,n.y+s.y,n.z+s.z):new t.Vector(n.x+s,n.y+l,n.z+d);i.add=e;const h=(n,s,l=0,d=0)=>s instanceof t.Vector?new t.Vector(n.x-s.x,n.y-s.y,n.z-s.z):new t.Vector(n.x-s,n.y-l,n.z-d);i.sub=h;const a=(n,s)=>isFinite(s)?new t.Vector(n.x*s,n.y*s,n.z*s):new t.Vector(n.x,n.y,n.z);i.mult=a;const r=(n,s)=>{if(s!==0&&isFinite(s)){let l=1/s;return new t.Vector(n.x*l,n.y*l,n.z*l)}return new t.Vector(n.x,n.y,n.z)};i.div=r;const o=n=>(0,i.div)(n,Math.hypot(n.x,n.y,n.z));i.normalize=o;const f=(n,s)=>(0,i.div)(n,Math.hypot(n.x,n.y,n.z)).mult(s);i.setMag=f;const x=(n,s)=>n.mag>s.mag?n.copy():s.copy();i.max=x;const y=(n,s)=>n.mag<s.mag?n.copy():s.copy();i.min=y;const w=(n,s)=>n.x==s.x&&n.y==s.y&&n.z==s.z;i.equals=w;const b=(n,s)=>Math.hypot(n.x-s.x,n.y-s.y,n.z-s.z);i.dist=b;const D=(n,s)=>Math.hypot(n.x-s.x,n.y-s.y,n.z-s.z)**2;i.distSq=D;const O=(n,s)=>new t.Vector(n.y*s.z-n.z*s.y,n.z*s.x-n.x*s.z,n.x*s.y-n.y*s.x);i.cross=O;const J=(n,s)=>n.x*s.x+n.y*s.y+n.z*s.z;i.dot=J;const Q=n=>[n.x,n.y,n.z];i.toArray=Q;const U=(n,s=new t.Vector(1),l=new t.Vector(0,1),d=new t.Vector(0,0,1))=>new t.Vector(n.x*s.x+n.y*l.x+n.z*d.x,n.x*s.y+n.y*l.y+n.z*d.y,n.x*s.z+n.y*l.z+n.z*d.z);i.changeOfBasis=U;const Z=(n,s,l)=>new t.Vector(n.x+(s.x-n.x)*l,n.y+(s.y-n.y)*l,n.z+(s.z-n.z)*l);i.lerp=Z;const j=(n,s)=>{let l=n.mag*s.mag;if(l===0)return 0;let d=n.dot(s)/l;return Math.acos(Math.max(Math.min(d,1),-1))};i.angleBetween=j;const _=(n,s)=>{let l=Math.cos(s),d=Math.sin(s);return new t.Vector(n.x*l+n.y*-d,n.x*d+n.y*l,n.z)};i.rotate=_;const v=(n,s)=>{let l=Math.cos(s),d=Math.sin(s);return new t.Vector(n.x,n.y*l+n.z*-d,n.y*d+n.z*l)};i.rotateX=v;const tt=(n,s)=>{let l=Math.cos(s),d=Math.sin(s);return new t.Vector(n.x*l+n.z*d,n.y,n.x*-d+n.z*l)};i.rotateY=tt;const it=n=>new t.Vector(Math.cos(n),Math.sin(n));i.fromAngle=it;const nt=(n,s)=>new t.Vector(Math.sin(s)*Math.cos(n),Math.sin(s)*Math.sin(n),Math.cos(s));i.fromAngles=nt;const et=()=>(0,i.fromAngle)(Math.random()*Math.PI*2);i.random2D=et;const st=()=>(0,i.fromAngles)(Math.random()*Math.PI*2,Math.random()*Math.PI*2);i.random3D=st;const ht=(n,s,l)=>{let d=(0,i.sub)(s,n),mt=(0,i.sub)(l,n);return d.normalize(),d.mult(mt.dot(d)),(0,i.add)(n,d)};i.scalarProyection=ht;const at=()=>new t.Vector(1,0,0);i.right=at;const rt=()=>new t.Vector(-1,0,0);i.left=rt;const lt=()=>new t.Vector(0,1,0);i.up=lt;const dt=()=>new t.Vector(0,-1,0);i.down=dt;const ot=()=>new t.Vector(0,0,1);i.forward=ot;const ut=()=>new t.Vector(0,0,-1);i.back=ut;const yt=()=>new t.Vector;i.zero=yt;const ct=()=>new t.Vector(1,1,1);i.one=ct;const ft=(n=0,s=0,l=0)=>new t.Vector(n,s,l);i.createVector=ft})(u);const bt=Math.PI*2,B=(i,t=0,e=0,h=1)=>i instanceof Array?`rgba( ${i[0]}, ${i[1]}, ${i[2]}, ${i[3]||1})`:`rgba( ${i}, ${t}, ${e}, ${h})`,At=(i,t=1)=>i instanceof Array?`rgba( ${i[0]}, ${i[0]}, ${i[0]}, ${i[1]||1})`:`rgba( ${i}, ${i}, ${i}, ${t})`;function C(i,t){if(!t){i.fill();return}i.save(),i.fillStyle=t,i.fill(),i.restore()}const Vt=(i,t)=>{if(!t){i.fillRect(0,0,i.canvas.width,i.canvas.height);return}i.save(),i.fillStyle=t,i.fillRect(0,0,i.canvas.width,i.canvas.height),i.restore()},k=(i,t,e,h,a,r=!0)=>{i.beginPath(),i.arc(t.x,t.y,e||i.lineWidth,h||0,a||bt,r)},p=(i,t)=>Math.random()*(t-i)+i,Ot=i=>i[Math.floor(Math.random()*i.length)],V=(i,t,e)=>Math.max(Math.min(i,e),t),pt=i=>{i.width=innerWidth,i.height=innerHeight},$t=i=>{addEventListener("resize",()=>pt(i))};class R{constructor(t,e){M(this,"position");M(this,"velocity");M(this,"acceleration");M(this,"size");M(this,"dna");M(this,"health");this.position=t,this.velocity=u.random2D(),this.acceleration=new u.Vector,this.size=3,this.dna=[],this.health=1;let h=(innerWidth+innerHeight)*.035,a=.5,r=5,o=E/150;if(e==null)this.dna=[Math.random()*r,Math.random()*-r,Math.random()*h,Math.random()*h*a,p(r/2,r),Math.random()*h*a,Ot(Ft.slice()),p(.5,1),p(.2,1),Math.random(),Math.random()*o,Math.random()*5,Math.random()*25];else{for(let y=0;y<e.length;y++)y!==6?this.dna[y]=e[y]:this.dna[y]=e[y].slice();if(Math.random()<this.dna[8]){let y=Math.floor(Math.random()*this.dna.length),w=this.dna[y];if(y!==6){let b=Math.floor(Math.random()*this.dna[6].length),D=255,O=p(-1,1);this.dna[6][b]+=O*D,this.dna[6][b]=V(this.dna[6][b],0,255),this.dna[y]+=O*w}this.dna[8]=V(this.dna[8],.1,1),this.dna[9]=V(this.dna[9],.1,10),this.dna[10]=Math.min(this.dna[10],o)}}let f=this.dna[6].reduce((y,w)=>y+=w),x=y=>y+=100;f<255&&(this.dna[6]=this.dna[6].map(x))}edges(){let t=10,e=null;if(this.position.x<t?e=new u.Vector(this.dna[10],this.velocity.y):this.position.x>innerWidth-t&&(e=new u.Vector(-this.dna[10],this.velocity.y)),this.position.y<t?e=new u.Vector(this.velocity.x,this.dna[10]):this.position.y>innerHeight-t&&(e=new u.Vector(this.velocity.x,-this.dna[10])),e!==null){e.mag=this.dna[10];let h=u.sub(e,this.velocity);h.maxMag(this.dna[11]*2),this.applyForce(h)}}seek(t){let e=u.sub(t,this.position);e.mag=this.dna[10];let h=u.sub(e,this.velocity);return h.maxMag(this.dna[11]),h}eat(t,e,h){let a=1/0,r=null,o;for(let f=t.length-1;f>=0;f--)o=this.position.dist(t[f]),o<this.dna[10]?(t.splice(f,1),t.push(new u.Vector(Math.random()*innerWidth,Math.random()*innerHeight)),this.health+=e):o<a&&o<h&&(a=o,r=t[f]);return r!==null?this.seek(r):new u.Vector}separation(t){let e=new u.Vector,h=0;for(let a of t){if(a===this)continue;let r=u.sub(this.position,a.position),o=r.mag;o<this.dna[5]&&(e.add(r),h++),o<12.5&&(this.health=0)}return h>0&&(e.mag=this.dna[10],e.sub(this.velocity),e.maxMag(this.dna[11])),e}behaviors(t,e){let h=this.eat(t,.2,this.dna[2]),a=this.eat(e,-500,this.dna[3]),r=this.separation(c);h.mult(this.dna[0]),a.mult(this.dna[1]),r.mult(this.dna[4]),this.applyForce(h),this.applyForce(a),this.applyForce(r)}dead(){return this.health<0}clone(){if(Math.random()<this.dna[7]&&this.health>2){let t=this.position.copy(),e=u.random2D();return e.mult(this.dna[12]),t.add(e),new R(t,this.dna)}else return null}draw(){k(z,this.position,this.size),C(z,B(this.dna[6]))}edges2(){this.position.x>innerWidth?this.position.x=0:this.position.x<0&&(this.position.x=innerWidth),this.position.y>innerHeight?this.position.y=0:this.position.y<0&&(this.position.y=innerHeight)}update(){this.edges(),innerWidth==E?this.health-=.001:this.health-=.005,this.velocity.add(this.acceleration),this.velocity.maxMag(this.dna[10]),this.position.add(this.velocity),this.acceleration.mult(0)}applyForce(t){this.acceleration.add(t)}}const $=document.querySelector("canvas"),z=$.getContext("2d");let c,F,P,E,T=50,A,H;const Ft=[[255,255,255]],Pt=()=>{let i=Math.random()*innerWidth,t=Math.random()*innerHeight;F.push(u.createVector(i,t))},Wt=()=>{let i=Math.random()*innerWidth,t=Math.random()*innerHeight;P.push(u.createVector(i,t))},G=i=>{for(let t=0;t<i;t++){let e=Math.random()*innerWidth,h=Math.random()*innerHeight,a=u.createVector(e,h);c.push(new R(a))}};function K(){$.width=innerWidth,$.height=innerHeight,H=0,A=2,A=innerWidth*innerHeight/8e3*A,H=A*1,E=Math.min(innerHeight,innerWidth),c=[],F=[],P=[],G(T);for(let i=0;i<H;i++)Pt();for(let i=0;i<A;i++)Wt()}addEventListener("dblclick",K);let m=1;addEventListener("keydown",i=>{i.keyCode==37&&(m-=1),i.keyCode==39&&(m+=1),m=V(m,0,70)});let W=!1,S=!1;addEventListener("touchstart",i=>{i.targetTouches[0].pageX>innerWidth/2?W=!0:S=!0});addEventListener("touchend",()=>{W&&(W=!1),S&&(S=!1)});let L=0;function St(){Vt(z,At(50)),L%2==0&&(W&&(m+=1),S&&(m-=3),m=V(m,0,70),L=0),L++;for(let t=0;t<m;t++){c.length==0&&G(T);for(let e=c.length-1;e>=0;e--){c[e].behaviors(F,P),c[e].update();let h=c[e].clone();h!==null&&c.unshift(h),c[e].dead()&&c.splice(e,1)}}let i=1.5;F.forEach(t=>{k(z,t,i),C(z,B(0,255,0))}),P.forEach(t=>{k(z,t,i),C(z,B(255,0,0))}),c.forEach(t=>{t.draw()})}$t($);wt(30);K();I.animate(St);N();
